<p class="lead">Login to your account</p>
<div class="row mt-4" *ngIf="!isOtp && login_type =='BOTH'">
    <div class="col-12 text-center" [formGroup]="radioForm">
        <ul class="nav nav-pills nav-justified mb-3">
            <li class="nav-item pr-1" (click)="toggleOption('PASSWORD')">
                <input type="radio" hidden name="loginOption" value="PASSWORD" formControlName="loginOption">
                <a class="nav-link" [class.active]="loginOption=='PASSWORD'" href="javascript:void(0)">With Password</a>
            </li>
            <li class="nav-item" role="presentation" (click)="toggleOption('OTP')">
                <input type="radio" hidden value="OTP" name="loginOption" formControlName="loginOption">
                <a class="nav-link" [class.active]="loginOption=='OTP'" href="javascript:void(0)">With OTP</a>
            </li>
        </ul>
    </div>
</div>
<div *ngIf="loginOption == 'PASSWORD' && !isOtp" class="form-auth-small m-t-20" (keyup.enter)="formSubmit()"
    [formGroup]="loginForm">
    <div class="form-group">
        <label for="signin-email" class="control-label sr-only">Username</label>
        <input type="email" formControlName="username" class="form-control round" placeholder="Username">
        <span lass="error" *ngIf="submitted && loginForm.get('username')?.errors?.required">
            User Name should not be blank
        </span>
        <span class="error" *ngIf="submitted && loginForm.get('username')?.errors?.email">
            User Name should be valid
        </span>
    </div>
    <div class="form-group">
        <label for="signin-password" class="control-label sr-only">Password</label>
        <input type="password" formControlName="password" class="form-control round" placeholder="Password">
        <span class="error" *ngIf="submitted && loginForm.get('password')?.errors?.required">Password Required</span>
    </div>
    <div class="form-group clearfix">
        <label class="fancy-checkbox element-left">
            <input type="checkbox">
            <span>Remember me</span>
        </label>
    </div>
</div>
<div *ngIf="loginOption == 'OTP' && !isOtp">
    <div class="form-group text-left mt-2">
        <label for="signin-email" class="control-label">Mobile Number</label>
        <input id="mob" placeholder="Enter Mobile Number" [formControl]="mobile_no" maxlength="10"
            (keypress)="onlyNumber($event)" class="form-control round" />
        <span lass="error" *ngIf="submitted && mobile_no?.errors?.required">Mobile should not be blank</span>
        <span class="error" *ngIf="submitted && mobile_no?.errors?.email">Mobile should be valid</span>
    </div>
    <button (click)="sendOtp()" class="btn btn-primary btn-round btn-block"><i *ngIf="sendingOtp"
            class="pi pi-spin pi-spinner"></i> {{sendingOtp ? 'Sending...' : 'Send OTP'}}</button>
</div>
<div *ngIf="isOtp">
    <label class="form-label mt-5" for="loginFormEmail">Your OTP</label>
    <div class="d-flex flex-row mt-5">
        <input type="text" #otp1 [(ngModel)]="otpString[0]" (keyup)="otp($event, '', otp2, 0)"
            class="form-control ispass w-50 mr-4" maxlength="1" autofocus="" />
        <input type="text" #otp2 [(ngModel)]="otpString[1]" (keyup)="otp($event, otp1, otp3, 1)"
            class="form-control ispass w-50 mr-4" maxlength="1" />
        <input type="text" #otp3 [(ngModel)]="otpString[2]" (keyup)="otp($event, otp2, otp4, 2)"
            class="form-control ispass w-50 mr-4" maxlength="1" />
        <input type="text" #otp4 [(ngModel)]="otpString[3]" (keyup)="otp($event, otp3, '', 3)"
            class="form-control ispass w-50 mr-4" maxlength="1" />
    </div>
    <div class="bottom">
        <!-- <span class="helper-text m-b-10"><i class="fa fa-lock"></i> <a>Resend</a>
                </span> -->
        <span *ngIf="!otpInterval" class="helper-text m-b-10">Don't have any Notification ? <a href="javascript:void(0)"
                (click)="sendOtp(true)">Resend</a></span>
                <span *ngIf="otpInterval" >{{'00:'+otpInterval}}</span>
        <span class="helper-text m-b-10"><a href="#" (click)="isOtp = false">Change Mobile Number</a></span>
    </div>
</div>
<span class="error"> {{statusMessage}}</span>
<button *ngIf="!(loginOption == 'OTP' && !isOtp)" class="btn btn-primary btn-round btn-block" (click)="formSubmit()" [disabled]="isLoading">
    <i *ngIf="isLoading" class="pi pi-spin pi-spinner"></i>
    {{  isLoading ? 'Verifying...' : loginOption == 'OTP' ? 'Verify' : 'Login'}}
</button>